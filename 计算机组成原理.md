# 计算机组成原理

## 一、计算机概要与技术

### 1.1 引言

分类：个人计算机，服务器，嵌入式计算机,个人移动设备（PMD），云计算
$$KB =10^3,KiB=10^{10} ;MB =10^6,MiB=10^{20}$$

### 1.2 计算机系统结构中8个伟大思想

1. 面向摩尔定律的设计
2. 使用抽象简化设计
3. 加速大概率事件
4. 通过并行提高性能
5. 通过流水线提高性能
6. 通过预测提高性能
7. 存储器层次
8. 通过冗余提高可靠性

### 1.3 程序设计入门

层次结构：硬件>系统软件>应用软件
高级语言--编译--：汇编语言--汇编--：机器语言

### 1.4 硬件概念入门

五大部分：

* 输入设备：为计算机提供信息的装置
* 输出设备：将计算结果输出给用户或其它计算机的装置
* 数据通路：在处理器中执行算术操作的部分
* 控制器：处理器中根据程序中的指令指挥数据通路、存储器和I/O设备工作的部分
* 存储器（内存）：程序运行时的存储空间，同时还存储程序运行时所需的数据。

>数据通路和控制器合称“中央处理单元”（CPU）;存储器、数据通路和控制器在信息处理操作中起主要作用，是计算机硬件的主体部分，通常被称为“主机”。

显示器
>CRT显示：阴极管电子轰击，位图显示  
>LCD显示：液晶显示，轻巧低功耗

存储设备：
高速缓存 — 主存储器 — 二级存储器

1. **主存储器**：程序运行时的存储空间，也存放需要处理的数据。也称为内存，由DRAM（动态随机访问存储器）芯片组成。  
2. **高速缓存**：作为DRAM的缓冲，解决CPU和主存之间的速度匹配。由SRAM（静态随机访问存储器）芯片组成，比DRAM 更快，集成度更低。
3. **二级存储器**：非易失性存储器
    * 磁盘
    * 闪存：PMD的二级存储器的标准

### 1.5 性能

#### 性能的定义：

* 响应时间：也叫执行时间，是计算机完成某任务所需要的总时间，包括硬盘访问、内存访问、I/O活动、操作系统开销和CPU执行时间等。PC用户感兴趣
* 吞吐率：也叫带宽（bandwidth），表示单位时间内完成的任务数量，数据中心感兴趣。

#### 性能的度量：

1. 时钟周期：CPU主频的倒数
2. CPU（执行）时间：某一任务在CPU上花费的时间；=用户CPU时间+系统CPU时间

#### CPU性能

一个程序的 CPU执行时间 = 一个程序的CPU时钟周期数/时钟频率

#### 指令性能

一个程序的CPU时钟周期数 = 程序的指令数×每条指令的平均时钟周期数
>CPI：每条指令的平均周期数，表示执行某个程序或程序片断时每条指令所需的时钟周期平均数。

#### 经典CPU性能公式

$$T_{CPU} = 指令数 \times CPI \times 时钟周期时间，（T_{CPU}为CPU时间）$$

## 二、计算机的语言

计算机中信息分为：数据信息（数值与非数值）和控制信息

### 2.1 数据信息表示方法

#### 2.1.1 进制及转换

r进制：$\sum X_i \times r^i$
十进制化为二进制：除2取余，直到被除数为0。余数倒过来
小数：乘2取整，直到小数部分为0

#### 2.1.2 机器数编码

原码：最高位为符号位，其余正常
补码：符号位可参与计算，负数补码为原码除符号位部分取反+1
>符号扩展：补码可将其符号位向前复制多次填满高位
反码：负数除原码符号位取反

#### 2.1.3 数据表示方法

1. 定点表示法
    小数点位置隐含约定，固定不变
2. 浮点表示法
    $$N=(-1)^S \times F \times 2^E$$
    如$(-1)^0\times 0.011011 \times 2^{011}$
    S为符号位；E为N的指数,或称为阶码；F为N的尾数，代表全部有效数值

    MIPS中浮点表示如下：
    * 单精度：

    S       |   E   |   F
    :-----: | :----:|:----:
    31(1位) |30-23(8位)|22-0(23位)
    * 双精度：

    S       |   E   |   F
    :-----: | :----:|:----:
    31(1位) |30-20(11位)|19-0

    F |
    :-----:|
    31-0(52位）|