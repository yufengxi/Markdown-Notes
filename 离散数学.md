# 离散数学

## 一、数理逻辑

### 1. 命题逻辑

**命题**：能够确切判断结论真假的陈述句。

连结词与标识符：$\sim, \land, \vee, \to, \leftrightarrow, \nabla, \uparrow, \downarrow$
为非，合取，析取，如果；则，当且仅当，不可兼或，与非，或非
最小功能完备集：$\{ \uparrow \}, \{ \downarrow \}, \{ \sim, \land \}, \{ \sim ,\vee \}$
永真式：重言式 $T$；  矛盾式：$F$

原子公式与否定为句节，有限个句节析取式称**子句**，其合取式为**合取范式**；有限句节合取式称**短语**，其析取式为**析取范式**。

极大（小）项：包含每个命题变元成假（真）赋值的析（合）取范式
> 如 $p q v$ 取0时命题为真，极大项为$p\vee q \vee r$，极小项为$\sim p \land \sim q \land \sim r$

**主合（析）取范式**：找出使公式取值为0（1）的全部解释，其极大（小）项的合（析）取范式。每个命题唯一。

**命题公式的等价**：对原子公式的任何赋值$A$与$B$的真值相同，记为$A \Leftrightarrow B$（当且仅当$A \leftrightarrow B$成立）
对偶公式：将$A$中的$\land\vee$互换，$T$换成$F$得到其对偶式

#### 重要等价式

公式                                    |              名称
 :---------------------------:          |   :-------:
$P \to Q \Leftrightarrow \sim P \vee Q$ | 蕴含式
$P \land ( P \vee Q) \Leftrightarrow P$ $P \vee ( P \land Q) \Leftrightarrow P$ | 吸收律
$P \nabla Q \Leftrightarrow ( \sim P \land Q) \vee (P \land \sim Q)$ | 排中律
$P \rightarrow Q \Leftrightarrow \sim Q \to \sim P$ | 逆反律

**命题公式的蕴含**：$A$取1时$B$也取1，则称$A$蕴含$B$，记为$A \Rightarrow B$。当且仅当$A \to B$成立时永真。

#### **蕴含关系式**

公式                            |       名称
:-------------: | :----------------:
$\sim (P \to Q) \Rightarrow P / \sim Q$ | 简化法则（合取消去律）
$\sim P/Q \Rightarrow P \to Q $ | 扩充法则（析取引入律）
$P \land (P \to Q) \Rightarrow Q$ | 假言推理
$\sim Q \land (P \to Q) \Rightarrow \sim P$ | 拒取式
$\sim P \land (P \vee Q) \Rightarrow Q$ | 析取三段论
$(P \to Q) \land (Q \to R) \Rightarrow P \to R$ | 假言三段论
$(P \vee Q)\land (P \to R) \land (Q \to R) \Rightarrow R$ | 二难推论
$(P \vee Q) \land (\sim P \vee R) \Rightarrow Q \vee R$ | 归结原理

#### 命题逻辑推理

##### 规则

**P规则**：前提引用
**T规则**：TE等价变换式，TI蕴含变换式
**CP规则**：若推导结论形如$B \to C$，将$B$作为前提推出$C$

##### 方法

1. 直接法
2. CP规则法
3. 反证法：将结论否定当作前提，最终推出F

### 2. 谓词逻辑

谓词：描述客体变元关系的方法，也称命题函数。如$MAN(x,y,z)$。

全称量词和存在量词：$\forall \ \ \ \exist$
**原子构成：**

1. 常量标识符：论域中确定的客体，如a，c，4
2. 客体变元符：表示变量，x,y,x1,y2
3. 函数标识符：小写字母或字母串f，g等
4. 谓词标识符：大写字母或串，P，Q等

谓词公式等价与蕴含都要求同一论域下

#### 等价公式：

量词公式否定满足:
$\sim (\forall x) P(x) \Leftrightarrow ( \exist x) [\sim P(x)]$
$\sim (\exist x) P(x) \Leftrightarrow ( \forall x) [\sim P(x)]$
量词辖域的收缩扩张：
$Q \to (\forall x)/(\exist x) P(x) \Leftrightarrow (\forall x)/(\exist x) [Q \to P(x)]$
$(\forall x)/(\exist x)P(x) \to  Q \Leftrightarrow (\exist x)/(\forall x) [P(x) \to Q]$

$(\forall x) P(x) \land (\forall x) Q(x) \Leftrightarrow (\forall x) [P(x) \land Q(x)]$
$(\forall x) P(x) \vee (\forall x) Q(x) \Leftrightarrow (\forall x)(\forall y) [P(x) \vee Q(y)]$
$(\exist x) P(x) \land (\exist x) Q(x) \Leftrightarrow (\exist x)(\exist y) [P(x) \land Q(y)]$
$(\exist x) P(x) \vee (\exist x) Q(x) \Leftrightarrow (\exist x) [P(x) \vee Q(y)]$
$(\exist x) [P(x) \to Q(x)] \Leftrightarrow (\forall x) P(x) \to (\exist x) Q(x)$

化为前束范式的步骤：

1. 将$\to \ \ \leftrightarrow$用$\sim \land \vee$表示出来
2. 将$\sim$ 深入否定到原子
3. 使用换名或代入规则
4. 利用等价关系将量词放到最左边

>若$A=(Q_1x_1)(Q_2x_2)...(Q_ix_i)G$，则称$G$为$A$的母式。
>将所有存在量词用常量标识符替换的前束合取范式称为**Skolem函数**。

#### 蕴含公式：

* $(\forall x) G(x) \Rightarrow G(y)/G(c)$ ：全称指定规则，US
* $(\exist x) G(x) \Rightarrow G(c)$ ：存在指定规则，ES
* $G(y) \Rightarrow ( \forall x)G(x)$ ：全称推广规则，UG
* $G(c)/G(y) \Rightarrow (\exist x) G(x)$ ：存在推广规则，EG
* $(\forall x)P(x) \vee (\forall x)Q(x) \Rightarrow (\forall x) [P(x) \vee Q(x)]$
* $(\exist x) [P(x) \land Q(x)] \Rightarrow (\exist x)P(x) \land (\exist x) Q(x)$
* $(\forall x) [P(x) \to Q(x)] \Rightarrow (\forall x)P(x) \to (\forall x)Q(x)$
* $(\exist x) P(x) \to (\forall x)Q(x) \Rightarrow (\forall x) [P(x) \to Q(x)] $
* $(\forall x) [P(x)\leftrightarrow Q(x)] \Rightarrow (\forall x) P(x) \leftrightarrow (\forall x)Q(x)$

-------

$$(\forall x)(\forall y) P(x,y) \Rightarrow (\exist y)(\forall x) P(x,y)\Rightarrow (\forall x)(\exist y) P(x,y) \Rightarrow (\exist x)(\exist y) P(x,y) $$

#### 谓词逻辑推理方法：

规则： P，T，CP，US，ES，UG，EG

## 二、集合与关系

### 1. 集合代数

表示方法：枚举法或代数法
> 特征函数$\chi_A(x) =1$（当$x \in A$);$\chi_A(x) =0$（当$x \not\in A$)

$\subseteq$:子集 $\subset $:真子集
运算符：$\cup \cap - \bar{A} \oplus$：并，交，差，补，对称差

**幂集**：$A$为一个集合，则$2^A$表示其幂集，包含$A$的全部子集
**笛卡儿集**：$A_1,A_2...A_n$为n个集合，则$A_1 \times A_2 \times ... A_n = \{ (a_1,a_2,...,a_n)|a_i \in A_i \land  1\le i \le n\}$表示其幂集，包含$A$的全部子集

>$A,B,C,D$为4个非空集合，则$A \times B \subseteq C \times D \Leftrightarrow A \subseteq C \land B \subseteq D $

### 2. 二元关系

两个集合中的元素建立起的某种联系称为二元关系，如$A,B$为已知集合，二元关系$R$就是$A \times B$的一个合于$R= \{(x,y) \in A \times B |xRy\}$

如$A=\{1,2\},B=\{2,3,4\} R=\{(1,2),(2,2),(2,4)\},\to 1R2,2R2,2R4;1\not R3$

#### 表示方法

有向图表示法

```dot
digraph G{
    x1->y1;
    x1->y2;
    x2->y3;
    x3;
}
```

关系矩阵表示法：如果集合A下标i的元素和B下表j的元素建立起联系，则关系矩阵i行j列元素为1，其余为0

>恒等关系：$I_A$，即自己与自身联系，形成自环

#### 性质

1. 自反关系
2. 对称关系
3. 可传递关系
4. 反自反关系
5. 反对称关系

#### 运算

**复合关系**：$R \circ S =\{ (x,z) \in A \times C |(\exist y \in B) [(x,y) \in R \land (y,z) \in S] \}$
> $R^2 = R \circ R, R^0=I_A, R^1=R, R^{-1}=\{(y,x) \in B\times A|(x,y) \in R\}$

#### 闭包

闭包概念：R为A上的二元关系，R'包含R满足某种关系且最小。

1. 自反闭包：$r(R)=R \cup I_A$
2. 对称闭包：$s(R)=R\cup R^{-1}$
3. 传递闭包：$t(R)=\cup^{\infty}_{i=1}R^i$
    >$R^+=t(R)$（有限个R的次方并集），$R^* = I_A \cup t(R)$
    >**Warshall算法**：用来计算$R^+$,若R关系矩阵M第i列中M[a,i]为1,则让a行元素与n行元素取或，并将结果传递给a行

>$rs(R)=sr(R)$ ;$rt(R)=tr(R)$ ;$st(R) \subseteq ts(R)$